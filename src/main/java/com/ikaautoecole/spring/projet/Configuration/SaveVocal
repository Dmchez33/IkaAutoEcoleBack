package com.ikaautoecole.spring.projet.Configuration;
import org.springframework.web.multipart.MultipartFile;
import java.io.IOException;
import java.nio.file.Files;
import java.nio.file.Path;
import java.nio.file.Paths;
import java.util.Objects;

public class SaveVocal {

    public static String localhost = "http://192.168.43.58/";

    public static String servercontenuvocal = localhost + "apiikaautoecole/images/contenuvocal/";
    public static String ContenuVocallocation = "C:/xampp/htdocs/apiikaautoecole/images/contenuvocal";

    public static String save(String typeImage, MultipartFile file, String nomFichier) {
        String src = "";
        String server = "";
        String location = "";
        if (typeImage == "user") {
            location = Userlocation;
            server = serveruser;
        }

        // debut de l'enregistrement
        try {
            Path chemin = Paths.get("assets/audio");
            if (!Files.exists(chemin)) {
                Files.createDirectories(chemin);
            }

            Path audioPath = Paths.get("assets/audio/" + nomFichier);
            Files.copy(file.getInputStream(), audioPath);

            src = audioPath.toString();
        } catch (IOException e) {
            System.out.println(e.getMessage());
            src = null;
        }

        return src;
    }
}